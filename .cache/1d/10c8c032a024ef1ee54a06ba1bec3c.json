{"id":"OKtF","dependencies":[{"name":"/Users/lily/Documents/STUDY/Porjects/WTE-App/package.json","includedInParent":true,"mtime":1642957436380},{"name":"./helpers.js","loc":{"line":1,"column":24},"parent":"/Users/lily/Documents/STUDY/Porjects/WTE-App/src/js/model.js","resolved":"/Users/lily/Documents/STUDY/Porjects/WTE-App/src/js/helpers.js"},{"name":"./config.js","loc":{"line":2,"column":37},"parent":"/Users/lily/Documents/STUDY/Porjects/WTE-App/src/js/model.js","resolved":"/Users/lily/Documents/STUDY/Porjects/WTE-App/src/js/config.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.state=exports.removeBookmark=exports.loadSearchResults=exports.loadRecipe=exports.getSearchResultsPage=exports.callBookmarks=exports.addBookmark=void 0;var e=require(\"./helpers.js\"),o=require(\"./config.js\");const s={recipe:{},search:{keyword:\"\",results:[],resultsInPage:o.RES_IN_PAGE,page:1},bookmarks:[]};exports.state=s;const r=async function(r){try{const t=await(0,e.getJSON)(\"\".concat(o.API_URL,\"lookup.php?i=\").concat(r));s.recipe=t.meals[0],s.bookmarks.find(e=>e.idMeal===s.recipe.idMeal)?s.recipe.bookmarked=!0:s.recipe.bookmarked=!1}catch(a){throw a}};exports.loadRecipe=r;const a=async function(r){try{s.search.keyword=r;const t=await(0,e.getJSON)(\"\".concat(o.API_URL,\"search.php?s=\").concat(r));s.search.results=t.meals,s.search.page=1}catch(a){throw a}};exports.loadSearchResults=a;const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.search.page;s.search.page=e;const o=(e-1)*s.search.resultsInPage,r=e*s.search.resultsInPage;return s.search.results.slice(o,r)};exports.getSearchResultsPage=t;const c=function(){localStorage.setItem(\"bookmarks\",JSON.stringify(s.bookmarks))},n=function(e){s.bookmarks.push(e),c(),e.idMeal===s.recipe.idMeal&&(s.recipe.bookmarked=!0)};exports.addBookmark=n;const i=function(e){const o=s.bookmarks.findIndex(o=>o.idMeal===e.idMeal);s.bookmarks.splice(o,1),c(),e.idMeal===s.recipe.idMeal&&(s.recipe.bookmarked=!1)};exports.removeBookmark=i;const k=function(){const e=localStorage.getItem(\"bookmarks\");e&&(s.bookmarks=JSON.parse(e))};exports.callBookmarks=k;"},"sourceMaps":{"js":{"mappings":[{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":0}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":13}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":20}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":35}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":43}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":56}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":57}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":64}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":68}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":76}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":82}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":90}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":105}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":113}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":131}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":139}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":150}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":158}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":179}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":187}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":201}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":209}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":226}},{"source":"src/js/model.js","original":{"line":1,"column":0},"generated":{"line":1,"column":228}},{"source":"src/js/model.js","original":{"line":1,"column":0},"generated":{"line":1,"column":232}},{"source":"src/js/model.js","original":{"line":1,"column":0},"generated":{"line":1,"column":234}},{"source":"src/js/model.js","original":{"line":1,"column":0},"generated":{"line":1,"column":242}},{"source":"src/js/model.js","original":{"line":2,"column":0},"generated":{"line":1,"column":258}},{"source":"src/js/model.js","original":{"line":2,"column":0},"generated":{"line":1,"column":260}},{"source":"src/js/model.js","original":{"line":2,"column":0},"generated":{"line":1,"column":268}},{"source":"src/js/model.js","original":{"line":4,"column":7},"generated":{"line":1,"column":283}},{"source":"src/js/model.js","name":"state","original":{"line":4,"column":13},"generated":{"line":1,"column":289}},{"source":"src/js/model.js","original":{"line":4,"column":21},"generated":{"line":1,"column":291}},{"source":"src/js/model.js","name":"recipe","original":{"line":5,"column":2},"generated":{"line":1,"column":292}},{"source":"src/js/model.js","original":{"line":5,"column":10},"generated":{"line":1,"column":299}},{"source":"src/js/model.js","name":"search","original":{"line":6,"column":2},"generated":{"line":1,"column":302}},{"source":"src/js/model.js","original":{"line":6,"column":10},"generated":{"line":1,"column":309}},{"source":"src/js/model.js","name":"keyword","original":{"line":7,"column":4},"generated":{"line":1,"column":310}},{"source":"src/js/model.js","original":{"line":7,"column":13},"generated":{"line":1,"column":318}},{"source":"src/js/model.js","name":"results","original":{"line":8,"column":4},"generated":{"line":1,"column":321}},{"source":"src/js/model.js","original":{"line":8,"column":13},"generated":{"line":1,"column":329}},{"source":"src/js/model.js","name":"resultsInPage","original":{"line":9,"column":4},"generated":{"line":1,"column":332}},{"source":"src/js/model.js","name":"RES_IN_PAGE","original":{"line":9,"column":19},"generated":{"line":1,"column":346}},{"source":"src/js/model.js","original":{"line":6,"column":10},"generated":{"line":1,"column":348}},{"source":"src/js/model.js","name":"page","original":{"line":10,"column":4},"generated":{"line":1,"column":360}},{"source":"src/js/model.js","original":{"line":10,"column":10},"generated":{"line":1,"column":365}},{"source":"src/js/model.js","name":"bookmarks","original":{"line":12,"column":2},"generated":{"line":1,"column":368}},{"source":"src/js/model.js","original":{"line":12,"column":13},"generated":{"line":1,"column":378}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":382}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":390}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":396}},{"source":"src/js/model.js","original":{"line":15,"column":7},"generated":{"line":1,"column":398}},{"source":"src/js/model.js","name":"loadRecipe","original":{"line":15,"column":13},"generated":{"line":1,"column":404}},{"source":"src/js/model.js","original":{"line":15,"column":26},"generated":{"line":1,"column":406}},{"source":"src/js/model.js","name":"id","original":{"line":15,"column":42},"generated":{"line":1,"column":421}},{"source":"src/js/model.js","original":{"line":16,"column":6},"generated":{"line":1,"column":424}},{"source":"src/js/model.js","name":"data","original":{"line":17,"column":10},"generated":{"line":1,"column":428}},{"source":"src/js/model.js","name":"data","original":{"line":17,"column":10},"generated":{"line":1,"column":434}},{"source":"src/js/model.js","original":{"line":17,"column":23},"generated":{"line":1,"column":442}},{"source":"src/js/model.js","name":"API_URL","original":{"line":17,"column":34},"generated":{"line":1,"column":444}},{"source":"src/js/model.js","name":"API_URL","original":{"line":17,"column":34},"generated":{"line":1,"column":446}},{"source":"src/js/model.js","name":"API_URL","original":{"line":17,"column":34},"generated":{"line":1,"column":455}},{"source":"src/js/model.js","name":"API_URL","original":{"line":17,"column":34},"generated":{"line":1,"column":458}},{"source":"src/js/model.js","name":"API_URL","original":{"line":17,"column":34},"generated":{"line":1,"column":465}},{"source":"src/js/model.js","original":{"line":17,"column":23},"generated":{"line":1,"column":467}},{"source":"src/js/model.js","name":"id","original":{"line":17,"column":57},"generated":{"line":1,"column":475}},{"source":"src/js/model.js","name":"id","original":{"line":17,"column":57},"generated":{"line":1,"column":492}},{"source":"src/js/model.js","name":"id","original":{"line":17,"column":57},"generated":{"line":1,"column":499}},{"source":"src/js/model.js","name":"state","original":{"line":18,"column":4},"generated":{"line":1,"column":503}},{"source":"src/js/model.js","name":"recipe","original":{"line":18,"column":10},"generated":{"line":1,"column":505}},{"source":"src/js/model.js","name":"data","original":{"line":18,"column":19},"generated":{"line":1,"column":512}},{"source":"src/js/model.js","name":"meals","original":{"line":18,"column":24},"generated":{"line":1,"column":514}},{"source":"src/js/model.js","original":{"line":18,"column":30},"generated":{"line":1,"column":520}},{"source":"src/js/model.js","name":"state","original":{"line":20,"column":6},"generated":{"line":1,"column":523}},{"source":"src/js/model.js","name":"bookmarks","original":{"line":20,"column":12},"generated":{"line":1,"column":525}},{"source":"src/js/model.js","name":"find","original":{"line":20,"column":22},"generated":{"line":1,"column":535}},{"source":"src/js/model.js","name":"bookmark","original":{"line":21,"column":9},"generated":{"line":1,"column":540}},{"source":"src/js/model.js","name":"bookmark","original":{"line":21,"column":22},"generated":{"line":1,"column":543}},{"source":"src/js/model.js","name":"idMeal","original":{"line":21,"column":31},"generated":{"line":1,"column":545}},{"source":"src/js/model.js","name":"state","original":{"line":21,"column":42},"generated":{"line":1,"column":554}},{"source":"src/js/model.js","name":"recipe","original":{"line":21,"column":48},"generated":{"line":1,"column":556}},{"source":"src/js/model.js","name":"idMeal","original":{"line":21,"column":55},"generated":{"line":1,"column":563}},{"source":"src/js/model.js","name":"state","original":{"line":24,"column":6},"generated":{"line":1,"column":571}},{"source":"src/js/model.js","name":"recipe","original":{"line":24,"column":12},"generated":{"line":1,"column":573}},{"source":"src/js/model.js","name":"bookmarked","original":{"line":24,"column":19},"generated":{"line":1,"column":580}},{"source":"src/js/model.js","original":{"line":24,"column":32},"generated":{"line":1,"column":592}},{"source":"src/js/model.js","name":"state","original":{"line":26,"column":6},"generated":{"line":1,"column":594}},{"source":"src/js/model.js","name":"recipe","original":{"line":26,"column":12},"generated":{"line":1,"column":596}},{"source":"src/js/model.js","name":"bookmarked","original":{"line":26,"column":19},"generated":{"line":1,"column":603}},{"source":"src/js/model.js","original":{"line":26,"column":32},"generated":{"line":1,"column":615}},{"source":"src/js/model.js","original":{"line":28,"column":4},"generated":{"line":1,"column":617}},{"source":"src/js/model.js","name":"err","original":{"line":28,"column":11},"generated":{"line":1,"column":623}},{"source":"src/js/model.js","name":"err","original":{"line":29,"column":10},"generated":{"line":1,"column":626}},{"source":"src/js/model.js","name":"err","original":{"line":29,"column":10},"generated":{"line":1,"column":632}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":636}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":644}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":655}},{"source":"src/js/model.js","original":{"line":33,"column":7},"generated":{"line":1,"column":657}},{"source":"src/js/model.js","name":"loadSearchResults","original":{"line":33,"column":13},"generated":{"line":1,"column":663}},{"source":"src/js/model.js","original":{"line":33,"column":33},"generated":{"line":1,"column":665}},{"source":"src/js/model.js","name":"keyword","original":{"line":33,"column":49},"generated":{"line":1,"column":680}},{"source":"src/js/model.js","original":{"line":34,"column":6},"generated":{"line":1,"column":683}},{"source":"src/js/model.js","name":"state","original":{"line":35,"column":4},"generated":{"line":1,"column":687}},{"source":"src/js/model.js","name":"search","original":{"line":35,"column":10},"generated":{"line":1,"column":689}},{"source":"src/js/model.js","name":"keyword","original":{"line":35,"column":17},"generated":{"line":1,"column":696}},{"source":"src/js/model.js","name":"keyword","original":{"line":35,"column":27},"generated":{"line":1,"column":704}},{"source":"src/js/model.js","name":"data","original":{"line":36,"column":10},"generated":{"line":1,"column":706}},{"source":"src/js/model.js","name":"data","original":{"line":36,"column":10},"generated":{"line":1,"column":712}},{"source":"src/js/model.js","original":{"line":36,"column":23},"generated":{"line":1,"column":720}},{"source":"src/js/model.js","name":"API_URL","original":{"line":36,"column":34},"generated":{"line":1,"column":722}},{"source":"src/js/model.js","name":"API_URL","original":{"line":36,"column":34},"generated":{"line":1,"column":724}},{"source":"src/js/model.js","name":"API_URL","original":{"line":36,"column":34},"generated":{"line":1,"column":733}},{"source":"src/js/model.js","name":"API_URL","original":{"line":36,"column":34},"generated":{"line":1,"column":736}},{"source":"src/js/model.js","name":"API_URL","original":{"line":36,"column":34},"generated":{"line":1,"column":743}},{"source":"src/js/model.js","original":{"line":36,"column":23},"generated":{"line":1,"column":745}},{"source":"src/js/model.js","name":"keyword","original":{"line":36,"column":57},"generated":{"line":1,"column":753}},{"source":"src/js/model.js","name":"keyword","original":{"line":36,"column":57},"generated":{"line":1,"column":770}},{"source":"src/js/model.js","name":"keyword","original":{"line":36,"column":57},"generated":{"line":1,"column":777}},{"source":"src/js/model.js","name":"state","original":{"line":37,"column":4},"generated":{"line":1,"column":781}},{"source":"src/js/model.js","name":"search","original":{"line":37,"column":10},"generated":{"line":1,"column":783}},{"source":"src/js/model.js","name":"results","original":{"line":37,"column":17},"generated":{"line":1,"column":790}},{"source":"src/js/model.js","name":"data","original":{"line":37,"column":27},"generated":{"line":1,"column":798}},{"source":"src/js/model.js","name":"meals","original":{"line":37,"column":32},"generated":{"line":1,"column":800}},{"source":"src/js/model.js","name":"state","original":{"line":38,"column":4},"generated":{"line":1,"column":806}},{"source":"src/js/model.js","name":"search","original":{"line":38,"column":10},"generated":{"line":1,"column":808}},{"source":"src/js/model.js","name":"page","original":{"line":38,"column":17},"generated":{"line":1,"column":815}},{"source":"src/js/model.js","original":{"line":38,"column":24},"generated":{"line":1,"column":820}},{"source":"src/js/model.js","original":{"line":39,"column":4},"generated":{"line":1,"column":822}},{"source":"src/js/model.js","name":"err","original":{"line":39,"column":11},"generated":{"line":1,"column":828}},{"source":"src/js/model.js","name":"err","original":{"line":40,"column":10},"generated":{"line":1,"column":831}},{"source":"src/js/model.js","name":"err","original":{"line":40,"column":10},"generated":{"line":1,"column":837}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":841}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":849}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":867}},{"source":"src/js/model.js","original":{"line":44,"column":7},"generated":{"line":1,"column":869}},{"source":"src/js/model.js","name":"getSearchResultsPage","original":{"line":44,"column":13},"generated":{"line":1,"column":875}},{"source":"src/js/model.js","original":{"line":44,"column":36},"generated":{"line":1,"column":877}},{"source":"src/js/model.js","name":"page","original":{"line":44,"column":37},"generated":{"line":1,"column":888}},{"source":"src/js/model.js","name":"page","original":{"line":44,"column":37},"generated":{"line":1,"column":892}},{"source":"src/js/model.js","name":"state","original":{"line":44,"column":44},"generated":{"line":1,"column":894}},{"source":"src/js/model.js","name":"state","original":{"line":44,"column":44},"generated":{"line":1,"column":904}},{"source":"src/js/model.js","name":"state","original":{"line":44,"column":44},"generated":{"line":1,"column":911}},{"source":"src/js/model.js","name":"state","original":{"line":44,"column":44},"generated":{"line":1,"column":919}},{"source":"src/js/model.js","name":"state","original":{"line":44,"column":44},"generated":{"line":1,"column":923}},{"source":"src/js/model.js","name":"state","original":{"line":44,"column":44},"generated":{"line":1,"column":933}},{"source":"src/js/model.js","name":"state","original":{"line":44,"column":44},"generated":{"line":1,"column":936}},{"source":"src/js/model.js","name":"state","original":{"line":44,"column":44},"generated":{"line":1,"column":946}},{"source":"src/js/model.js","name":"state","original":{"line":44,"column":44},"generated":{"line":1,"column":949}},{"source":"src/js/model.js","name":"search","original":{"line":44,"column":50},"generated":{"line":1,"column":951}},{"source":"src/js/model.js","name":"page","original":{"line":44,"column":57},"generated":{"line":1,"column":958}},{"source":"src/js/model.js","name":"state","original":{"line":45,"column":2},"generated":{"line":1,"column":963}},{"source":"src/js/model.js","name":"search","original":{"line":45,"column":8},"generated":{"line":1,"column":965}},{"source":"src/js/model.js","name":"page","original":{"line":45,"column":15},"generated":{"line":1,"column":972}},{"source":"src/js/model.js","name":"page","original":{"line":45,"column":22},"generated":{"line":1,"column":977}},{"source":"src/js/model.js","name":"start","original":{"line":46,"column":8},"generated":{"line":1,"column":979}},{"source":"src/js/model.js","name":"start","original":{"line":46,"column":8},"generated":{"line":1,"column":985}},{"source":"src/js/model.js","name":"page","original":{"line":46,"column":17},"generated":{"line":1,"column":988}},{"source":"src/js/model.js","original":{"line":46,"column":24},"generated":{"line":1,"column":990}},{"source":"src/js/model.js","name":"state","original":{"line":46,"column":29},"generated":{"line":1,"column":993}},{"source":"src/js/model.js","name":"search","original":{"line":46,"column":35},"generated":{"line":1,"column":995}},{"source":"src/js/model.js","name":"resultsInPage","original":{"line":46,"column":42},"generated":{"line":1,"column":1002}},{"source":"src/js/model.js","name":"end","original":{"line":47,"column":8},"generated":{"line":1,"column":1016}},{"source":"src/js/model.js","name":"page","original":{"line":47,"column":14},"generated":{"line":1,"column":1018}},{"source":"src/js/model.js","name":"state","original":{"line":47,"column":21},"generated":{"line":1,"column":1020}},{"source":"src/js/model.js","name":"search","original":{"line":47,"column":27},"generated":{"line":1,"column":1022}},{"source":"src/js/model.js","name":"resultsInPage","original":{"line":47,"column":34},"generated":{"line":1,"column":1029}},{"source":"src/js/model.js","name":"state","original":{"line":48,"column":9},"generated":{"line":1,"column":1043}},{"source":"src/js/model.js","name":"state","original":{"line":48,"column":9},"generated":{"line":1,"column":1050}},{"source":"src/js/model.js","name":"search","original":{"line":48,"column":15},"generated":{"line":1,"column":1052}},{"source":"src/js/model.js","name":"results","original":{"line":48,"column":22},"generated":{"line":1,"column":1059}},{"source":"src/js/model.js","name":"slice","original":{"line":48,"column":30},"generated":{"line":1,"column":1067}},{"source":"src/js/model.js","name":"start","original":{"line":48,"column":36},"generated":{"line":1,"column":1073}},{"source":"src/js/model.js","name":"end","original":{"line":48,"column":43},"generated":{"line":1,"column":1075}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":1079}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":1087}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":1108}},{"source":"src/js/model.js","original":{"line":51,"column":0},"generated":{"line":1,"column":1110}},{"source":"src/js/model.js","name":"storeBookmarks","original":{"line":51,"column":6},"generated":{"line":1,"column":1116}},{"source":"src/js/model.js","original":{"line":51,"column":23},"generated":{"line":1,"column":1118}},{"source":"src/js/model.js","name":"localStorage","original":{"line":52,"column":2},"generated":{"line":1,"column":1129}},{"source":"src/js/model.js","name":"setItem","original":{"line":52,"column":15},"generated":{"line":1,"column":1142}},{"source":"src/js/model.js","original":{"line":52,"column":23},"generated":{"line":1,"column":1150}},{"source":"src/js/model.js","name":"JSON","original":{"line":52,"column":36},"generated":{"line":1,"column":1162}},{"source":"src/js/model.js","name":"stringify","original":{"line":52,"column":41},"generated":{"line":1,"column":1167}},{"source":"src/js/model.js","name":"state","original":{"line":52,"column":51},"generated":{"line":1,"column":1177}},{"source":"src/js/model.js","name":"bookmarks","original":{"line":52,"column":57},"generated":{"line":1,"column":1179}},{"source":"src/js/model.js","name":"addBookmark","original":{"line":55,"column":13},"generated":{"line":1,"column":1192}},{"source":"src/js/model.js","original":{"line":55,"column":27},"generated":{"line":1,"column":1194}},{"source":"src/js/model.js","name":"recipe","original":{"line":55,"column":37},"generated":{"line":1,"column":1203}},{"source":"src/js/model.js","name":"state","original":{"line":57,"column":2},"generated":{"line":1,"column":1206}},{"source":"src/js/model.js","name":"bookmarks","original":{"line":57,"column":8},"generated":{"line":1,"column":1208}},{"source":"src/js/model.js","name":"push","original":{"line":57,"column":18},"generated":{"line":1,"column":1218}},{"source":"src/js/model.js","name":"recipe","original":{"line":57,"column":23},"generated":{"line":1,"column":1223}},{"source":"src/js/model.js","name":"storeBookmarks","original":{"line":59,"column":2},"generated":{"line":1,"column":1226}},{"source":"src/js/model.js","name":"recipe","original":{"line":61,"column":6},"generated":{"line":1,"column":1230}},{"source":"src/js/model.js","name":"idMeal","original":{"line":61,"column":13},"generated":{"line":1,"column":1232}},{"source":"src/js/model.js","name":"state","original":{"line":61,"column":24},"generated":{"line":1,"column":1241}},{"source":"src/js/model.js","name":"recipe","original":{"line":61,"column":30},"generated":{"line":1,"column":1243}},{"source":"src/js/model.js","name":"idMeal","original":{"line":61,"column":37},"generated":{"line":1,"column":1250}},{"source":"src/js/model.js","name":"state","original":{"line":61,"column":45},"generated":{"line":1,"column":1259}},{"source":"src/js/model.js","name":"recipe","original":{"line":61,"column":51},"generated":{"line":1,"column":1261}},{"source":"src/js/model.js","name":"bookmarked","original":{"line":61,"column":58},"generated":{"line":1,"column":1268}},{"source":"src/js/model.js","original":{"line":61,"column":71},"generated":{"line":1,"column":1280}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":1284}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":1292}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":1304}},{"source":"src/js/model.js","original":{"line":63,"column":7},"generated":{"line":1,"column":1306}},{"source":"src/js/model.js","name":"removeBookmark","original":{"line":63,"column":13},"generated":{"line":1,"column":1312}},{"source":"src/js/model.js","original":{"line":63,"column":30},"generated":{"line":1,"column":1314}},{"source":"src/js/model.js","name":"recipe","original":{"line":63,"column":40},"generated":{"line":1,"column":1323}},{"source":"src/js/model.js","name":"index","original":{"line":65,"column":8},"generated":{"line":1,"column":1326}},{"source":"src/js/model.js","name":"index","original":{"line":65,"column":8},"generated":{"line":1,"column":1332}},{"source":"src/js/model.js","name":"state","original":{"line":65,"column":16},"generated":{"line":1,"column":1334}},{"source":"src/js/model.js","name":"bookmarks","original":{"line":65,"column":22},"generated":{"line":1,"column":1336}},{"source":"src/js/model.js","name":"findIndex","original":{"line":65,"column":32},"generated":{"line":1,"column":1346}},{"source":"src/js/model.js","name":"bookmark","original":{"line":66,"column":5},"generated":{"line":1,"column":1356}},{"source":"src/js/model.js","name":"bookmark","original":{"line":66,"column":18},"generated":{"line":1,"column":1359}},{"source":"src/js/model.js","name":"idMeal","original":{"line":66,"column":27},"generated":{"line":1,"column":1361}},{"source":"src/js/model.js","name":"recipe","original":{"line":66,"column":38},"generated":{"line":1,"column":1370}},{"source":"src/js/model.js","name":"idMeal","original":{"line":66,"column":45},"generated":{"line":1,"column":1372}},{"source":"src/js/model.js","name":"state","original":{"line":68,"column":2},"generated":{"line":1,"column":1380}},{"source":"src/js/model.js","name":"bookmarks","original":{"line":68,"column":8},"generated":{"line":1,"column":1382}},{"source":"src/js/model.js","name":"splice","original":{"line":68,"column":18},"generated":{"line":1,"column":1392}},{"source":"src/js/model.js","name":"index","original":{"line":68,"column":25},"generated":{"line":1,"column":1399}},{"source":"src/js/model.js","original":{"line":68,"column":32},"generated":{"line":1,"column":1401}},{"source":"src/js/model.js","name":"storeBookmarks","original":{"line":70,"column":2},"generated":{"line":1,"column":1404}},{"source":"src/js/model.js","name":"recipe","original":{"line":72,"column":6},"generated":{"line":1,"column":1408}},{"source":"src/js/model.js","name":"idMeal","original":{"line":72,"column":13},"generated":{"line":1,"column":1410}},{"source":"src/js/model.js","name":"state","original":{"line":72,"column":24},"generated":{"line":1,"column":1419}},{"source":"src/js/model.js","name":"recipe","original":{"line":72,"column":30},"generated":{"line":1,"column":1421}},{"source":"src/js/model.js","name":"idMeal","original":{"line":72,"column":37},"generated":{"line":1,"column":1428}},{"source":"src/js/model.js","name":"state","original":{"line":73,"column":4},"generated":{"line":1,"column":1437}},{"source":"src/js/model.js","name":"recipe","original":{"line":73,"column":10},"generated":{"line":1,"column":1439}},{"source":"src/js/model.js","name":"bookmarked","original":{"line":73,"column":17},"generated":{"line":1,"column":1446}},{"source":"src/js/model.js","original":{"line":73,"column":30},"generated":{"line":1,"column":1458}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":1462}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":1470}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":1485}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":1487}},{"source":"src/js/model.js","name":"callBookmarks","original":{"line":77,"column":13},"generated":{"line":1,"column":1493}},{"source":"src/js/model.js","original":{"line":77,"column":29},"generated":{"line":1,"column":1495}},{"source":"src/js/model.js","name":"storage","original":{"line":78,"column":8},"generated":{"line":1,"column":1506}},{"source":"src/js/model.js","name":"storage","original":{"line":78,"column":8},"generated":{"line":1,"column":1512}},{"source":"src/js/model.js","name":"localStorage","original":{"line":78,"column":18},"generated":{"line":1,"column":1514}},{"source":"src/js/model.js","name":"getItem","original":{"line":78,"column":31},"generated":{"line":1,"column":1527}},{"source":"src/js/model.js","original":{"line":78,"column":39},"generated":{"line":1,"column":1535}},{"source":"src/js/model.js","name":"storage","original":{"line":79,"column":6},"generated":{"line":1,"column":1548}},{"source":"src/js/model.js","name":"state","original":{"line":79,"column":15},"generated":{"line":1,"column":1552}},{"source":"src/js/model.js","name":"bookmarks","original":{"line":79,"column":21},"generated":{"line":1,"column":1554}},{"source":"src/js/model.js","name":"JSON","original":{"line":79,"column":33},"generated":{"line":1,"column":1564}},{"source":"src/js/model.js","name":"parse","original":{"line":79,"column":38},"generated":{"line":1,"column":1569}},{"source":"src/js/model.js","name":"storage","original":{"line":79,"column":44},"generated":{"line":1,"column":1575}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":1580}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":1588}},{"source":"src/js/model.js","original":{"line":77,"column":7},"generated":{"line":1,"column":1602}}],"sources":{"src/js/model.js":"import { getJSON } from './helpers.js';\nimport { API_URL, RES_IN_PAGE } from './config.js';\n\nexport const state = {\n  recipe: {},\n  search: {\n    keyword: '',\n    results: [],\n    resultsInPage: RES_IN_PAGE,\n    page: 1,\n  },\n  bookmarks: [],\n};\n\nexport const loadRecipe = async function (id) {\n  try {\n    const data = await getJSON(`${API_URL}lookup.php?i=${id}`);\n    state.recipe = data.meals[0];\n    if (\n      state.bookmarks.find(\n        (bookmark) => bookmark.idMeal === state.recipe.idMeal\n      )\n    ) {\n      state.recipe.bookmarked = true;\n    } else {\n      state.recipe.bookmarked = false;\n    }\n  } catch (err) {\n    throw err;\n  }\n};\n\nexport const loadSearchResults = async function (keyword) {\n  try {\n    state.search.keyword = keyword;\n    const data = await getJSON(`${API_URL}search.php?s=${keyword}`);\n    state.search.results = data.meals;\n    state.search.page = 1;\n  } catch (err) {\n    throw err;\n  }\n};\n\nexport const getSearchResultsPage = (page = state.search.page) => {\n  state.search.page = page;\n  const start = (page - 1) * state.search.resultsInPage;\n  const end = page * state.search.resultsInPage;\n  return state.search.results.slice(start, end);\n};\n\nconst storeBookmarks = function () {\n  localStorage.setItem('bookmarks', JSON.stringify(state.bookmarks));\n};\n\nexport const addBookmark = function (recipe) {\n  //add bookmark\n  state.bookmarks.push(recipe);\n  //store it\n  storeBookmarks();\n  //mark current recipe bookmarked\n  if (recipe.idMeal === state.recipe.idMeal) state.recipe.bookmarked = true;\n};\nexport const removeBookmark = function (recipe) {\n  //delete bookmark\n  const index = state.bookmarks.findIndex(\n    (bookmark) => bookmark.idMeal === recipe.idMeal\n  );\n  state.bookmarks.splice(index, 1);\n  //update localStorage\n  storeBookmarks();\n  //remove bookmark from current recipe\n  if (recipe.idMeal === state.recipe.idMeal) {\n    state.recipe.bookmarked = false;\n  }\n};\n\nexport const callBookmarks = function () {\n  const storage = localStorage.getItem('bookmarks');\n  if (storage) state.bookmarks = JSON.parse(storage);\n};\n"},"lineCount":null}},"error":null,"hash":"d85a7c570b078fc098a2b7eaae854b69","cacheData":{"env":{}}}