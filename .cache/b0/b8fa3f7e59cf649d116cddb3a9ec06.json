{"id":"k4Dd","dependencies":[{"name":"/Users/lily/Documents/STUDY/Porjects/WTE-App/package.json","includedInParent":true,"mtime":1642957436380},{"name":"./config.js","loc":{"line":1,"column":28},"parent":"/Users/lily/Documents/STUDY/Porjects/WTE-App/src/js/helpers.js","resolved":"/Users/lily/Documents/STUDY/Porjects/WTE-App/src/js/config.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getJSON=void 0;var e=require(\"./config.js\");const t=function(e){return new Promise((t,o)=>{setTimeout(()=>{o(new Error(\"Request took too long! Timeout after \".concat(e,\" second\")))},1e3*e)})},o=async function(t){try{const n=await Promise.race([fetch(t),(o=e.TIMEOUT_SEC,new Promise((e,t)=>{setTimeout(()=>{t(new Error(\"Request took too long! Timeout after \".concat(o,\" second\")))},1e3*o)}))]),s=await n.json();if(!n.ok)throw new Error(\"\".concat(s.message,\" (\").concat(n.status,\")\"));return s}catch(r){throw r}var o};exports.getJSON=o;"},"sourceMaps":{"js":{"mappings":[{"source":"src/js/helpers.js","original":{"line":11,"column":7},"generated":{"line":1,"column":0}},{"source":"src/js/helpers.js","original":{"line":11,"column":7},"generated":{"line":1,"column":13}},{"source":"src/js/helpers.js","original":{"line":11,"column":7},"generated":{"line":1,"column":20}},{"source":"src/js/helpers.js","original":{"line":11,"column":7},"generated":{"line":1,"column":35}},{"source":"src/js/helpers.js","original":{"line":11,"column":7},"generated":{"line":1,"column":43}},{"source":"src/js/helpers.js","original":{"line":11,"column":7},"generated":{"line":1,"column":56}},{"source":"src/js/helpers.js","original":{"line":11,"column":7},"generated":{"line":1,"column":57}},{"source":"src/js/helpers.js","original":{"line":11,"column":7},"generated":{"line":1,"column":64}},{"source":"src/js/helpers.js","original":{"line":11,"column":7},"generated":{"line":1,"column":68}},{"source":"src/js/helpers.js","original":{"line":11,"column":7},"generated":{"line":1,"column":76}},{"source":"src/js/helpers.js","original":{"line":11,"column":7},"generated":{"line":1,"column":89}},{"source":"src/js/helpers.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"src/js/helpers.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"src/js/helpers.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"src/js/helpers.js","original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"src/js/helpers.js","original":{"line":3,"column":0},"generated":{"line":1,"column":120}},{"source":"src/js/helpers.js","name":"timeout","original":{"line":3,"column":6},"generated":{"line":1,"column":126}},{"source":"src/js/helpers.js","original":{"line":3,"column":16},"generated":{"line":1,"column":128}},{"source":"src/js/helpers.js","name":"s","original":{"line":3,"column":26},"generated":{"line":1,"column":137}},{"source":"src/js/helpers.js","original":{"line":4,"column":9},"generated":{"line":1,"column":140}},{"source":"src/js/helpers.js","original":{"line":4,"column":9},"generated":{"line":1,"column":147}},{"source":"src/js/helpers.js","name":"Promise","original":{"line":4,"column":13},"generated":{"line":1,"column":151}},{"source":"src/js/helpers.js","original":{"line":4,"column":21},"generated":{"line":1,"column":159}},{"source":"src/js/helpers.js","name":"_","original":{"line":4,"column":22},"generated":{"line":1,"column":160}},{"source":"src/js/helpers.js","name":"reject","original":{"line":4,"column":25},"generated":{"line":1,"column":162}},{"source":"src/js/helpers.js","name":"setTimeout","original":{"line":5,"column":4},"generated":{"line":1,"column":167}},{"source":"src/js/helpers.js","original":{"line":5,"column":15},"generated":{"line":1,"column":178}},{"source":"src/js/helpers.js","name":"reject","original":{"line":6,"column":6},"generated":{"line":1,"column":183}},{"source":"src/js/helpers.js","original":{"line":6,"column":13},"generated":{"line":1,"column":185}},{"source":"src/js/helpers.js","name":"Error","original":{"line":6,"column":17},"generated":{"line":1,"column":189}},{"source":"src/js/helpers.js","name":"s","original":{"line":6,"column":63},"generated":{"line":1,"column":195}},{"source":"src/js/helpers.js","name":"s","original":{"line":6,"column":63},"generated":{"line":1,"column":235}},{"source":"src/js/helpers.js","name":"s","original":{"line":6,"column":63},"generated":{"line":1,"column":242}},{"source":"src/js/helpers.js","original":{"line":6,"column":12},"generated":{"line":1,"column":244}},{"source":"src/js/helpers.js","original":{"line":7,"column":11},"generated":{"line":1,"column":258}},{"source":"src/js/helpers.js","name":"s","original":{"line":7,"column":7},"generated":{"line":1,"column":262}},{"source":"src/js/helpers.js","name":"getJSON","original":{"line":11,"column":13},"generated":{"line":1,"column":268}},{"source":"src/js/helpers.js","original":{"line":11,"column":23},"generated":{"line":1,"column":270}},{"source":"src/js/helpers.js","name":"url","original":{"line":11,"column":39},"generated":{"line":1,"column":285}},{"source":"src/js/helpers.js","original":{"line":12,"column":6},"generated":{"line":1,"column":288}},{"source":"src/js/helpers.js","name":"res","original":{"line":13,"column":10},"generated":{"line":1,"column":292}},{"source":"src/js/helpers.js","name":"res","original":{"line":13,"column":10},"generated":{"line":1,"column":298}},{"source":"src/js/helpers.js","name":"Promise","original":{"line":13,"column":22},"generated":{"line":1,"column":306}},{"source":"src/js/helpers.js","name":"race","original":{"line":13,"column":30},"generated":{"line":1,"column":314}},{"source":"src/js/helpers.js","original":{"line":13,"column":35},"generated":{"line":1,"column":319}},{"source":"src/js/helpers.js","name":"fetch","original":{"line":13,"column":36},"generated":{"line":1,"column":320}},{"source":"src/js/helpers.js","name":"url","original":{"line":13,"column":42},"generated":{"line":1,"column":326}},{"source":"src/js/helpers.js","name":"s","original":{"line":3,"column":26},"generated":{"line":1,"column":330}},{"source":"src/js/helpers.js","name":"TIMEOUT_SEC","original":{"line":13,"column":56},"generated":{"line":1,"column":332}},{"source":"src/js/helpers.js","original":{"line":13,"column":55},"generated":{"line":1,"column":334}},{"source":"src/js/helpers.js","original":{"line":4,"column":9},"generated":{"line":1,"column":346}},{"source":"src/js/helpers.js","name":"Promise","original":{"line":4,"column":13},"generated":{"line":1,"column":350}},{"source":"src/js/helpers.js","original":{"line":4,"column":21},"generated":{"line":1,"column":358}},{"source":"src/js/helpers.js","name":"_","original":{"line":4,"column":22},"generated":{"line":1,"column":359}},{"source":"src/js/helpers.js","name":"reject","original":{"line":4,"column":25},"generated":{"line":1,"column":361}},{"source":"src/js/helpers.js","name":"setTimeout","original":{"line":5,"column":4},"generated":{"line":1,"column":366}},{"source":"src/js/helpers.js","original":{"line":5,"column":15},"generated":{"line":1,"column":377}},{"source":"src/js/helpers.js","name":"reject","original":{"line":6,"column":6},"generated":{"line":1,"column":382}},{"source":"src/js/helpers.js","original":{"line":6,"column":13},"generated":{"line":1,"column":384}},{"source":"src/js/helpers.js","name":"Error","original":{"line":6,"column":17},"generated":{"line":1,"column":388}},{"source":"src/js/helpers.js","name":"s","original":{"line":6,"column":63},"generated":{"line":1,"column":394}},{"source":"src/js/helpers.js","name":"s","original":{"line":6,"column":63},"generated":{"line":1,"column":434}},{"source":"src/js/helpers.js","name":"s","original":{"line":6,"column":63},"generated":{"line":1,"column":441}},{"source":"src/js/helpers.js","original":{"line":6,"column":12},"generated":{"line":1,"column":443}},{"source":"src/js/helpers.js","original":{"line":7,"column":11},"generated":{"line":1,"column":457}},{"source":"src/js/helpers.js","name":"s","original":{"line":7,"column":7},"generated":{"line":1,"column":461}},{"source":"src/js/helpers.js","name":"data","original":{"line":14,"column":10},"generated":{"line":1,"column":469}},{"source":"src/js/helpers.js","name":"res","original":{"line":14,"column":23},"generated":{"line":1,"column":477}},{"source":"src/js/helpers.js","name":"json","original":{"line":14,"column":27},"generated":{"line":1,"column":479}},{"source":"src/js/helpers.js","original":{"line":16,"column":8},"generated":{"line":1,"column":486}},{"source":"src/js/helpers.js","name":"res","original":{"line":16,"column":9},"generated":{"line":1,"column":490}},{"source":"src/js/helpers.js","name":"ok","original":{"line":16,"column":13},"generated":{"line":1,"column":492}},{"source":"src/js/helpers.js","original":{"line":16,"column":17},"generated":{"line":1,"column":495}},{"source":"src/js/helpers.js","original":{"line":16,"column":23},"generated":{"line":1,"column":501}},{"source":"src/js/helpers.js","name":"Error","original":{"line":16,"column":27},"generated":{"line":1,"column":505}},{"source":"src/js/helpers.js","name":"data","original":{"line":16,"column":36},"generated":{"line":1,"column":511}},{"source":"src/js/helpers.js","name":"data","original":{"line":16,"column":36},"generated":{"line":1,"column":514}},{"source":"src/js/helpers.js","name":"data","original":{"line":16,"column":36},"generated":{"line":1,"column":521}},{"source":"src/js/helpers.js","name":"message","original":{"line":16,"column":41},"generated":{"line":1,"column":523}},{"source":"src/js/helpers.js","name":"res","original":{"line":16,"column":53},"generated":{"line":1,"column":531}},{"source":"src/js/helpers.js","name":"res","original":{"line":16,"column":53},"generated":{"line":1,"column":537}},{"source":"src/js/helpers.js","name":"res","original":{"line":16,"column":53},"generated":{"line":1,"column":544}},{"source":"src/js/helpers.js","name":"status","original":{"line":16,"column":57},"generated":{"line":1,"column":546}},{"source":"src/js/helpers.js","original":{"line":16,"column":17},"generated":{"line":1,"column":553}},{"source":"src/js/helpers.js","name":"data","original":{"line":17,"column":11},"generated":{"line":1,"column":559}},{"source":"src/js/helpers.js","name":"data","original":{"line":17,"column":11},"generated":{"line":1,"column":566}},{"source":"src/js/helpers.js","original":{"line":18,"column":4},"generated":{"line":1,"column":568}},{"source":"src/js/helpers.js","name":"err","original":{"line":18,"column":11},"generated":{"line":1,"column":574}},{"source":"src/js/helpers.js","name":"err","original":{"line":19,"column":10},"generated":{"line":1,"column":577}},{"source":"src/js/helpers.js","name":"err","original":{"line":19,"column":10},"generated":{"line":1,"column":583}},{"source":"src/js/helpers.js","original":{"line":3,"column":16},"generated":{"line":1,"column":585}},{"source":"src/js/helpers.js","name":"s","original":{"line":3,"column":26},"generated":{"line":1,"column":589}},{"source":"src/js/helpers.js","original":{"line":11,"column":7},"generated":{"line":1,"column":592}},{"source":"src/js/helpers.js","original":{"line":11,"column":7},"generated":{"line":1,"column":600}},{"source":"src/js/helpers.js","original":{"line":11,"column":7},"generated":{"line":1,"column":608}}],"sources":{"src/js/helpers.js":"import { TIMEOUT_SEC } from './config.js';\n\nconst timeout = function (s) {\n  return new Promise((_, reject) => {\n    setTimeout(() => {\n      reject(new Error(`Request took too long! Timeout after ${s} second`));\n    }, s * 1000);\n  });\n};\n\nexport const getJSON = async function (url) {\n  try {\n    const res = await Promise.race([fetch(url), timeout(TIMEOUT_SEC)]);\n    const data = await res.json();\n\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\n    return data;\n  } catch (err) {\n    throw err;\n  }\n};\n"},"lineCount":null}},"error":null,"hash":"be4f7b6a0b7ab6a51fd73fec6f15547f","cacheData":{"env":{}}}